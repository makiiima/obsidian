name= "NameError"
message= "name 'self' is not defined"
stack=  "\u001b[0;31m---------------------------------------------------------------------------\u001b[0m\n\u001b[0;31mNameError\u001b[0m                                 Traceback (most recent call last)\nCell \u001b[0;32mIn[19], line 2\u001b[0m\n\u001b[1;32m      1\u001b[0m agent \u001b[39m=\u001b[39m Agent()\n\u001b[0;32m----> 2\u001b[0m solutions \u001b[39m=\u001b[39m agent\u001b[39m.\u001b[39;49msolve()\n\u001b[1;32m      4\u001b[0m \u001b[39m# 提取解释器的输出\u001b[39;00m\n\u001b[1;32m      5\u001b[0m output \u001b[39m=\u001b[39m [house \u001b[39mfor\u001b[39;00m house \u001b[39min\u001b[39;00m solutions[\u001b[39m0\u001b[39m] \u001b[39mif\u001b[39;00m \u001b[39m'\u001b[39m\u001b[39m斑马\u001b[39m\u001b[39m'\u001b[39m \u001b[39min\u001b[39;00m house][\u001b[39m0\u001b[39m][\u001b[39m4\u001b[39m]\n\nCell \u001b[0;32mIn[18], line 118\u001b[0m, in \u001b[0;36mAgent.solve\u001b[0;34m(self)\u001b[0m\n\u001b[1;32m    112\u001b[0m \u001b[39mdef\u001b[39;00m \u001b[39msolve\u001b[39m(\u001b[39mself\u001b[39m):\n\u001b[1;32m    113\u001b[0m \u001b[39m    \u001b[39m\u001b[39m\"\"\"\u001b[39;00m\n\u001b[1;32m    114\u001b[0m \u001b[39m    规则求解器(请勿修改此函数).\u001b[39;00m\n\u001b[1;32m    115\u001b[0m \u001b[39m    return: 斑马规则求解器给出的答案，共包含五条匹配信息，解唯一.\u001b[39;00m\n\u001b[1;32m    116\u001b[0m \u001b[39m    \"\"\"\u001b[39;00m\n\u001b[0;32m--> 118\u001b[0m     \u001b[39mself\u001b[39;49m\u001b[39m.\u001b[39;49mdefine_rules()\n\u001b[1;32m    119\u001b[0m     \u001b[39mself\u001b[39m\u001b[39m.\u001b[39msolutions \u001b[39m=\u001b[39m run(\u001b[39m0\u001b[39m, \u001b[39mself\u001b[39m\u001b[39m.\u001b[39munits, \u001b[39mself\u001b[39m\u001b[39m.\u001b[39mrules_zebraproblem)\n\u001b[1;32m    120\u001b[0m     \u001b[39mreturn\u001b[39;00m \u001b[39mself\u001b[39m\u001b[39m.\u001b[39msolutions\n\nCell \u001b[0;32mIn[18], line 94\u001b[0m, in \u001b[0;36mAgent.define_rules\u001b[0;34m(self)\u001b[0m\n\u001b[1;32m     47\u001b[0m g\u001b[39m=\u001b[39mvar()\n\u001b[1;32m     48\u001b[0m h\u001b[39m=\u001b[39mvar()\n\u001b[1;32m     51\u001b[0m \u001b[39mself\u001b[39m\u001b[39m.\u001b[39mrules_zebraproblem \u001b[39m=\u001b[39m lall(\n\u001b[1;32m     52\u001b[0m     (eq, (var(), var(), var(), var(), var()), \u001b[39mself\u001b[39m\u001b[39m.\u001b[39munits),         \u001b[39m# self.units共包含五个unit成员，即每一个unit对应的var都指代一座房子(国家，工作，饮料，宠物，颜色) \u001b[39;00m\n\u001b[1;32m     53\u001b[0m                                                                    \u001b[39m# 各个unit房子又包含五个成员属性: (国家，工作，饮料，宠物，颜色)\u001b[39;00m\n\u001b[1;32m     54\u001b[0m     \n\u001b[1;32m     55\u001b[0m     \u001b[39m##############################################################################\u001b[39;00m\n\u001b[1;32m     56\u001b[0m     \u001b[39m####               请在以下区域中添加逻辑规则，感受逻辑约束问题               #### \u001b[39;00m\n\u001b[1;32m     57\u001b[0m     \u001b[39m####     输出：五条房子匹配信息('英国人', '油漆工', '茶', '狗', '红色')       ####\u001b[39;00m\n\u001b[1;32m     58\u001b[0m     \u001b[39m##############################################################################\u001b[39;00m\n\u001b[1;32m     59\u001b[0m     \u001b[39m#                                                                            #\u001b[39;00m\n\u001b[1;32m     60\u001b[0m     \u001b[39m# 英国人住在红色的房子里\u001b[39;00m\n\u001b[1;32m     61\u001b[0m     \u001b[39m# 西班牙人养了一条狗\u001b[39;00m\n\u001b[1;32m     62\u001b[0m     \u001b[39m# 日本人是一个油漆工\u001b[39;00m\n\u001b[1;32m     63\u001b[0m     \u001b[39m# 意大利人喜欢喝茶\u001b[39;00m\n\u001b[1;32m     64\u001b[0m     \u001b[39m# 挪威人住在左边的第一个房子里 *\u001b[39;00m\n\u001b[1;32m     65\u001b[0m     \u001b[39m# 绿房子在白房子的右边 *\u001b[39;00m\n\u001b[1;32m     66\u001b[0m     \u001b[39m# 摄影师养了一只蜗牛\u001b[39;00m\n\u001b[1;32m     67\u001b[0m     \u001b[39m# 外交官住在黄房子里\u001b[39;00m\n\u001b[1;32m     68\u001b[0m     \u001b[39m# 中间那个房子的人喜欢喝牛奶\u001b[39;00m\n\u001b[1;32m     69\u001b[0m     \u001b[39m# 喜欢喝咖啡的人住在绿房子里\u001b[39;00m\n\u001b[1;32m     70\u001b[0m     \u001b[39m# 挪威人住在蓝色的房子旁边 *\u001b[39;00m\n\u001b[1;32m     71\u001b[0m     \u001b[39m# 小提琴家喜欢喝橘子汁\u001b[39;00m\n\u001b[1;32m     72\u001b[0m     \u001b[39m# 养狐狸的人所住的房子与医生的房子相邻 *\u001b[39;00m\n\u001b[1;32m     73\u001b[0m     \u001b[39m# 养马的人所住的房子与外交官的房子相邻 *\u001b[39;00m\n\u001b[1;32m     74\u001b[0m     \u001b[39m# 5 个不同国家（英国工作各不相同（油漆工、摄影师、外交官、小提琴家、医生）的人分别住在一条街上的、西班牙、日本、意大利、挪威）且 5 所房子里，  \u001b[39;00m\n\u001b[1;32m     75\u001b[0m     \u001b[39m# 每所房子的颜色不同（红色、白色、蓝色、黄色、绿色），每个人都有自己养的不同宠物（狗、蜗牛、斑马、马、狐狸）， # 喜欢喝不同的饮料（矿泉水、牛奶、茶、橘子汁、咖啡）。\u001b[39;00m\n\u001b[1;32m     76\u001b[0m \n\u001b[1;32m     77\u001b[0m \n\u001b[1;32m     78\u001b[0m     \u001b[39m# 示例：基于问题信息可以提炼出，有人养斑马，有人喜欢和矿泉水等信息\u001b[39;00m\n\u001b[1;32m     79\u001b[0m     (membero,(var(), var(), var(), \u001b[39m'\u001b[39m\u001b[39m斑马\u001b[39m\u001b[39m'\u001b[39m, var()), \u001b[39mself\u001b[39m\u001b[39m.\u001b[39munits),   \n\u001b[1;32m     80\u001b[0m     (membero,(var(), var(), \u001b[39m'\u001b[39m\u001b[39m矿泉水\u001b[39m\u001b[39m'\u001b[39m, var(), var()), \u001b[39mself\u001b[39m\u001b[39m.\u001b[39munits),\n\u001b[1;32m     81\u001b[0m     (membero,(\u001b[39m'\u001b[39m\u001b[39m英国\u001b[39m\u001b[39m'\u001b[39m, var(),var(), var(), \u001b[39m'\u001b[39m\u001b[39m红色\u001b[39m\u001b[39m'\u001b[39m), \u001b[39mself\u001b[39m\u001b[39m.\u001b[39munits),\n\u001b[1;32m     82\u001b[0m     (membero,(\u001b[39m'\u001b[39m\u001b[39m西班牙\u001b[39m\u001b[39m'\u001b[39m, var(),var(), \u001b[39m'\u001b[39m\u001b[39m狗\u001b[39m\u001b[39m'\u001b[39m, var()), \u001b[39mself\u001b[39m\u001b[39m.\u001b[39munits),\n\u001b[1;32m     83\u001b[0m     (membero,(\u001b[39m'\u001b[39m\u001b[39m日本\u001b[39m\u001b[39m'\u001b[39m, \u001b[39m'\u001b[39m\u001b[39m油漆工\u001b[39m\u001b[39m'\u001b[39m,var(), var(), var()), \u001b[39mself\u001b[39m\u001b[39m.\u001b[39munits),\n\u001b[1;32m     84\u001b[0m     (membero,(\u001b[39m'\u001b[39m\u001b[39m意大利\u001b[39m\u001b[39m'\u001b[39m, var(), \u001b[39m'\u001b[39m\u001b[39m茶\u001b[39m\u001b[39m'\u001b[39m, var(), var()), \u001b[39mself\u001b[39m\u001b[39m.\u001b[39munits),\n\u001b[1;32m     85\u001b[0m     (eq,(\u001b[39m'\u001b[39m\u001b[39m挪威\u001b[39m\u001b[39m'\u001b[39m, var(), var(), var(), var()), a),\n\u001b[1;32m     86\u001b[0m     (membero,(a,var(), var(), var(), var()), \u001b[39mself\u001b[39m\u001b[39m.\u001b[39munits),\n\u001b[1;32m     87\u001b[0m     (membero,(var(), \u001b[39m'\u001b[39m\u001b[39m摄影师\u001b[39m\u001b[39m'\u001b[39m, var(), \u001b[39m'\u001b[39m\u001b[39m蜗牛\u001b[39m\u001b[39m'\u001b[39m, var()), \u001b[39mself\u001b[39m\u001b[39m.\u001b[39munits),\n\u001b[1;32m     88\u001b[0m     (membero,(var(), \u001b[39m'\u001b[39m\u001b[39m外交官\u001b[39m\u001b[39m'\u001b[39m, var(), var(), \u001b[39m'\u001b[39m\u001b[39m黄色\u001b[39m\u001b[39m'\u001b[39m), \u001b[39mself\u001b[39m\u001b[39m.\u001b[39munits),\n\u001b[1;32m     89\u001b[0m     (membero,(var(), var(), \u001b[39m'\u001b[39m\u001b[39m牛奶\u001b[39m\u001b[39m'\u001b[39m, var(), var()), \u001b[39mself\u001b[39m\u001b[39m.\u001b[39munits),\n\u001b[1;32m     90\u001b[0m     (membero,(var(), var(), \u001b[39m'\u001b[39m\u001b[39m咖啡\u001b[39m\u001b[39m'\u001b[39m, var(), \u001b[39m'\u001b[39m\u001b[39m绿色\u001b[39m\u001b[39m'\u001b[39m), \u001b[39mself\u001b[39m\u001b[39m.\u001b[39munits),\n\u001b[1;32m     91\u001b[0m     (membero,(var(), \u001b[39m'\u001b[39m\u001b[39m小提琴家\u001b[39m\u001b[39m'\u001b[39m, \u001b[39m'\u001b[39m\u001b[39m橘子汁\u001b[39m\u001b[39m'\u001b[39m, var(), var()), \u001b[39mself\u001b[39m\u001b[39m.\u001b[39munits),\n\u001b[1;32m     92\u001b[0m     (eq,(var(),var(),var(),var(), \u001b[39m'\u001b[39m\u001b[39m绿色\u001b[39m\u001b[39m'\u001b[39m), b),\n\u001b[1;32m     93\u001b[0m     (eq,(var(), var(), var(), var(), \u001b[39m'\u001b[39m\u001b[39m白色\u001b[39m\u001b[39m'\u001b[39m), c),\n\u001b[0;32m---> 94\u001b[0m     right(b,c),\n\u001b[1;32m     95\u001b[0m     (eq,(var(),var(),var(),var(),\u001b[39m'\u001b[39m\u001b[39m蓝色\u001b[39m\u001b[39m'\u001b[39m), d),\n\u001b[1;32m     96\u001b[0m     \u001b[39mnext\u001b[39m(a,d),\n\u001b[1;32m     97\u001b[0m     (eq, (var(), var(), var(), \u001b[39m'\u001b[39m\u001b[39m狐狸\u001b[39m\u001b[39m'\u001b[39m), e),\n\u001b[1;32m     98\u001b[0m     (eq, (var(), \u001b[39m'\u001b[39m\u001b[39m医生\u001b[39m\u001b[39m'\u001b[39m, var(), var(), var(), f)),\n\u001b[1;32m     99\u001b[0m     \u001b[39mnext\u001b[39m(e,f),\n\u001b[1;32m    100\u001b[0m     (eq, (var(), \u001b[39m'\u001b[39m\u001b[39m外交官\u001b[39m\u001b[39m'\u001b[39m, var(), var(), var()), g),\n\u001b[1;32m    101\u001b[0m     (eq, (var(), var(), var(), \u001b[39m'\u001b[39m\u001b[39m马\u001b[39m\u001b[39m'\u001b[39m, var()), h),\n\u001b[1;32m    102\u001b[0m     \u001b[39mnext\u001b[39m(h,g)\n\u001b[1;32m    103\u001b[0m \n\u001b[1;32m    104\u001b[0m                 \n\u001b[1;32m    105\u001b[0m     \u001b[39m#                                                                            #\u001b[39;00m\n\u001b[1;32m    106\u001b[0m     \u001b[39m##############################################################################\u001b[39;00m\n\u001b[1;32m    107\u001b[0m     \u001b[39m#################             完成后请记得提交作业             ################# \u001b[39;00m\n\u001b[1;32m    108\u001b[0m     \u001b[39m##############################################################################\u001b[39;00m\n\u001b[1;32m    109\u001b[0m \n\u001b[1;32m    110\u001b[0m )\n\nCell \u001b[0;32mIn[18], line 11\u001b[0m, in \u001b[0;36mright\u001b[0;34m(a, b)\u001b[0m\n\u001b[1;32m     10\u001b[0m \u001b[39mdef\u001b[39;00m \u001b[39mright\u001b[39m(a,b):\n\u001b[0;32m---> 11\u001b[0m     membero((var(), b, a, var()), \u001b[39mself\u001b[39;49m\u001b[39m.\u001b[39munits)\n\n\u001b[0;31mNameError\u001b[0m: name 'self' is not defined"
print(stack)